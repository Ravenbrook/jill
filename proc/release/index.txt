$Header$

JILI RELEASE PROCEDURE
David Jones, drj@ravenbrook.com


INTRODUCTION

This documents the release procedure for Jili.  This procedure should be
executed whenever a release is required.

The intended readership of this document is anyone maintaining Jili.

This document is confidential.


PREREQUISITES

A Windows XP PC.


PROCEDURE

[[ This is the procedure for creating a version:

  p4 sync master/...

Get the change-level of master (CHANGE):

  p4 changes -m 1 master/...

  p4 branch jili/version/0.X
  p4 integ -b jili/version/0.X @CHANGE

Submit the branch and get the change number (SUBMIT):

  p4 submit version/0.X/...

Edit the version catalogue:

  p4 edit version/index.txt
  vi version\index.txt
  p4 submit version\index.txt

]]

Edit the readme:

  p4 edit version\0.X\readme.txt
  vi version\0.X\readme.txt
  p4 submit version\0.X\readme.txt

Edit the Lua.VERSION (a public string declared in Lua.java):

  p4 edit version\0.X\code\Lua.java
  vi version\0.X\code\Lua.java
  p4 submit version\0.X\code\Lua.java

:todo: run smoke test?

Note change-level for version branch (RELEASE):

  p4 changes -m 1 version/0.X/...

Copy to release hierarchy:

  mkdir release\0.X.Y
  xcopy /s version\0.X release\0.X.Y\jili-0.X.Y\

Open the release\0.X.Y directory in Windows Explorer, right-click on the
jili-0.4.0 directory and select "Send To >> Compressed (zipped) Folder".
Rename the resulting zip file to add the final .Y back in.

Adding the zip file to perforce:
  
  p4 add release\0.X.Y\jili-0.X.Y.zip
  p4 submit release\0.X.Y\jili-0.X.Y.zip

Edit the release index:

  p4 edit release\index.txt
  vi release\index.txt
  p4 submit release\index.txt

Send the release (the zip file) to Simon Wood at Intuwave.
